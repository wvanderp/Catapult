---
applyTo: "**"
---

Always choose the most modern api. both external rest apis as well as internal libraries and frameworks. Avoid deprecated apis and legacy approaches. Use the standard libraries, html features and build-in over third-party libraries whenever possible.

---

Always use proper types and interfaces in TypeScript. Avoid using `any` type and if necessary use `unknown` instead and narrow it down later. Lean on the type system to catch errors early, improve code quality and lead you to places where you need to make adjustments. make sure to run tsc --noEmit to catch type errors before running or building the code.

---

Pay attention to the architecture and structure of the code. Follow best practices for organizing files, folders, and modules. Ensure that the code is modular, reusable, and easy to maintain and testable.

---

Make sure that tricky code is thoroughly tested with unit tests. Use mocking and stubbing where necessary to isolate the code under test. Ensure that edge cases and error scenarios are covered in the tests.

when running tests use `npm test -- run` to avoid vitest running in watch mode by default.

---

Provide hints of other places that need updating when you make changes to a certain part of the code in the future. Things not caught by type checking or tests.
Like when strings are use as enum values in multiple places, or we use database key names.

---

to make sure that the code remains error free and maintainable, always run the linter and type checker before committing code. Use `npm run lint` to lint and type check the code. Fix any issues reported by the linter or type checker before you are finished.

Fix all linting errors and type errors on a file whether they are related to your changes or not.

---

JSdoc comments should be used for all functions, classes, and complex code blocks to explain their purpose, parameters, return values, and any important details. This will help other developers (and your future self) understand the code better.

For react components use the comments to explain all the functionalities and behaviors.
